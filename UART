#include "F:\CSE Junior\SecondTerm\Embedded systems\Project\Fares Code\test\common_macros_ARM.h"
#include "F:\CSE Junior\SecondTerm\Embedded systems\Project\Fares Code\test\Standard_types_ARM.h"
#include "F:\CSE Junior\SecondTerm\Embedded systems\Project\Fares Code\test\tm4c123gh6pm.h"
#include <stdlib.h>


void uart_Init(void)
{
	
	// INITIALLIZATION FOR PORT C FOR UART
	SYSCTL_RCGCUART_R |= 0x02; // ENABLES UART1
	SYSCTL_RCGCGPIO_R |= 0x04; // ENABLES CLOCK OF PORT C
	// WE DIDN'T WAIT THE ENABLE CLOCK HERE AS WE DID ANOTHER FNS , SURELEY TAKES MORE THAN 2 CLOCK
	UART1_CTL_R &= ~0x00000001 ; // DISABLES UART1 UNTILL WE SET THE PROPERTIES OF THE COMM. PROTOCOL
	UART1_IBRD_R = 104 ; // (16,000,000)/16*9,600 = 520 . 8333) (9,600 default BAUDRATE of GPS module)
	UART1_FBRD_R = 11 ; // (0.8333 * 64)
	UART1_LCRH_R = 0x70; // 8 BITS TO BE SENT , NO PARITY , 1 STOP ,ENABLE FIFO
	UART1_CTL_R &= 0x00000001 ; // WE HAVE FINISHED SITTING OUR PROPERTIOS --> ENABLE UART1
	GPIO_PORTC_AFSEL_R |= 0x30 ; // ENABLE AFSEL TO  USE IT AS UART (C4 , C5)
	GPIO_PORTC_DEN_R |= 0x30 ; // DIGTAL ENABLE FOR C4,C5
	GPIO_PORTC_PCTL_R = (GPIO_PORTC_PCTL_R &= 0xFF00FFFF) + 0x00220000 ; // (C4 WORKS AS UART1 Rx) (C5 WORKS AS UART1 Tx)
	GPIO_PORTC_AMSEL_R &= ~0x30; // DISABLES C4,C5 ANALOG
	
}
